
struct Config {
  output: String
  enable: Boolean
}

fun setup(lambda: Config.() -> Nothing) {
    let config = Config @[output: "unset", enable: false]

    println("Before: ${config.output} ${config.enable}")
    lambda.invoke(config)
    println("After: ${config.output} ${config.enable}")
}

fun main() {
    setup @{
        output = "Hello"
        enable = true
    }
}
